<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CyberSpace Shooter</title>

    <link rel="stylesheet" href="/style.css">
</head>
<body>

    <!-- ALERT BOX -->
    <div id="alert-box" class="hidden alert-box">
        <p id="alert-text"></p>
    </div>

    <!-- HOW TO PLAY POPUP -->
    <div id="howto-popup" class="hidden popup">
        <div class="popup-content">
            <h2>How to Play</h2>
            <p>â€¢ Drag anywhere to move</p>
            <p>â€¢ Two fingers = Mega Bomb</p>
            <p>â€¢ Defeat the Boss to advance</p>
            <p>â€¢ Survive as long as possible</p>
            <p>â€¢ Power up in the CYBER SHOP to crush your enemies!</p>
            <button id="howto-close" class="menu-btn">Close</button>
        </div>
    </div>

    <!-- MENU SCREEN -->
    <div id="menu-screen" class="screen">
        <h1 class="screen-title">CYBERSPACE SHOOTER</h1>

        <img id="game-logo" src="/Logo.png" alt="Game Logo" class="logo-img">

        <button id="btn-play" class="menu-btn">Play</button>
        <button id="btn-shop" class="menu-btn">Shop</button>
        <button id="btn-leaderboard" class="menu-btn">Leaderboard</button>
        <button id="btn-info" class="menu-btn">Info & Extras</button>
    </div>

    <!-- VERIFICATION SCREEN -->
    <div id="verify-screen" class="screen hidden">
        <h2 class="screen-title">VERIFY WITH WORLD ID</h2>
        <button id="btn-verify-now" class="menu-btn">Verify Now</button>
        <button id="btn-verify-back" class="menu-btn back-btn">Back</button>
    </div>

    <!-- GAME SCREEN -->
    <div id="game-screen" class="screen hidden">

        <!-- HUD FINAL -->
        <div id="hud-container">

            <div id="hud-left">
                <div class="hud-item">
                    <span class="hud-icon">ðŸ›¡</span>
                    <span id="hud-shields">5</span>
                </div>

                <div class="hud-item">
                    <span class="hud-icon">ðŸ’£</span>
                    <span id="hud-bombs">2</span>
                </div>
            </div>

            <div id="hud-center">
                <div class="hud-level">LVL <span id="hud-level-num">1</span></div>
                <div class="hud-cs"><span id="hud-credits">0 CS</span></div>
                <div class="hud-high">HIGH <span id="hud-high">1</span></div>
            </div>

            <div id="hud-right">
                <button id="btn-pause" class="hud-btn pause-btn">II</button>
                <div id="hud-referral">CODE: <span id="display-user-code"></span></div>
            </div>

        </div>

        <!-- GAME CANVAS -->
        <div id="game-container">
            <canvas id="game-canvas"></canvas>
        </div>
    </div>

    <!-- SHOP SCREEN -->
    <div id="shop-screen" class="screen hidden">
        <h2 class="screen-title">CYBER SHOP</h2>

        <!-- SHIELDS -->
        <div class="shop-item">
            <h3><img src="/assets/sprites/powerup_shield.png" width="32"> Shields (x3) â€” 30 CS</h3>
            <button id="buy-shields" class="shop-btn">Buy</button>
        </div>

        <!-- MEGA BOMBS -->
        <div class="shop-item">
            <h3><img src="/assets/sprites/powerup_mega.png" width="32"> Mega Bombs (x5) â€” 40 CS</h3>
            <button id="buy-bombs" class="shop-btn">Buy</button>
        </div>

        <!-- SUPER SHOT -->
        <div class="shop-item">
            <h3><img src="/assets/sprites/shot_player_super.png" width="32"> Super Shot â€” 50 CS</h3>
            <button id="buy-supershot" class="shop-btn">Buy</button>
        </div>

        <!-- DUAL SHOT -->
        <div class="shop-item">
            <h3><img src="/assets/sprites/powerup_power.png" width="32"> Dual Shot â€” 60 CS</h3>
            <button id="buy-dualshot" class="shop-btn">Buy</button>
        </div>

        <!-- MINI DRONES -->
        <div class="shop-item">
            <h3><img src="/assets/sprites/mini_drones.png" width="32"> Mini Drones â€” 75 CS</h3>
            <button id="buy-drones" class="shop-btn">Buy</button>
        </div>

        <!-- REVIVE -->
        <div class="shop-item">
            <h3><img src="/assets/sprites/powerup_health.png" width="32"> Revive (1 use) â€” 100 CS</h3>
            <button id="buy-revive" class="shop-btn">Buy</button>
        </div>

        <button id="btn-referral" class="menu-btn">Referral Bonus</button>
        <button id="btn-shop-back" class="menu-btn back-btn">Back to Menu</button>
    </div>

    <!-- REFERRAL SCREEN -->
    <div id="referral-screen" class="screen hidden">
        <h2 class="screen-title">REFERRAL BONUS</h2>

        <div class="referral-box">
            <p>Your Code:</p>
            <div class="referral-code">
                <span id="user-ref-code">ABC123</span>
                <button id="copy-ref-code" class="small-btn">Copy</button>
            </div>
        </div>

        <div class="referral-box">
            <p>Enter friend's code:</p>
            <input id="friend-code-input" type="text" maxlength="12" placeholder="Enter code">
            <button id="redeem-referral" class="shop-btn">Redeem Bonus</button>
        </div>

        <button id="btn-referral-back" class="menu-btn back-btn">Back to Shop</button>
    </div>

    <!-- LEADERBOARD SCREEN -->
    <div id="leaderboard-screen" class="screen hidden">
        <h2 class="screen-title">LEADERBOARD</h2>
        <div id="leaderboard-list"></div>
        <button id="btn-leaderboard-back" class="menu-btn back-btn">Back</button>
    </div>

    <!-- INFO & EXTRAS SCREEN -->
    <div id="info-screen" class="screen hidden">
        <h2 class="screen-title">INFO & EXTRAS</h2>

        <button id="btn-info-howto" class="menu-btn">How to Play</button>
        <button id="btn-info-missions" class="menu-btn">Missions</button>
        <button id="btn-info-collection" class="menu-btn">Collection</button>
        <button id="btn-info-daily" class="menu-btn">Daily Reward</button>

        <button id="btn-info-back" class="menu-btn back-btn">Back to Menu</button>
    </div>

    <!-- MISSIONS SCREEN -->
    <div id="missions-screen" class="screen hidden">
        <h1 class="screen-title">MISSIONS</h1>

        <div class="missions-list">
            <p class="mission-item">â€¢ Play 1 game</p>
            <p class="mission-item">â€¢ Destroy 50 enemies</p>
            <p class="mission-item">â€¢ Collect 100 CS</p>
            <p class="mission-item">â€¢ Survive 60 seconds</p>
            <p class="mission-item">â€¢ Use 1 bomb</p>
        </div>

        <button class="back-btn">Back to Menu</button>
    </div>

    <!-- LOADING SCREEN -->
    <div id="loading-screen" class="screen hidden">
        <h2 class="screen-title">Loading...</h2>
        <p id="status-text"></p>
    </div>

    <!-- BACKGROUND STARS -->
    <canvas id="background-stars"></canvas>

    <script type="module" src="src/main.js"></script>

    <script>
        document.getElementById("copy-ref-code").addEventListener("click", function () {
            const code = document.getElementById("user-ref-code").innerText;
            navigator.clipboard.writeText(code).then(() => {
                const alertBox = document.createElement("div");
                alertBox.className = "alert-box";
                alertBox.innerText = "Referral code copied!";
                document.body.appendChild(alertBox);
                setTimeout(() => {
                    alertBox.remove();
                }, 2000);
            });
        });
    </script>

</body>
</html>
